(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{568:function(l,c,a){l.exports=a.p+"assets/img/ica-v6.cb9136c7.png"},628:function(l,c,a){"use strict";a.r(c);var o=a(0),t=Object(o.a)({},(function(){var l=this,c=l.$createElement,o=l._self._c||c;return o("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[o("h1",{attrs:{id:"integration"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#integration"}},[l._v("#")]),l._v(" Integration")]),l._v(" "),o("p",{attrs:{synopsis:""}},[l._v("Learn how to integrate Interchain Accounts host and controller functionality to your chain. The following document only applies for Cosmos SDK chains.")]),l._v(" "),o("p",[l._v("The Interchain Accounts module contains two submodules. Each submodule has its own IBC application. The Interchain Accounts module should be registered as an "),o("code",[l._v("AppModule")]),l._v(" in the same way all SDK modules are registered on a chain, but each submodule should create its own "),o("code",[l._v("IBCModule")]),l._v(" as necessary. A route should be added to the IBC router for each submodule which will be used.")]),l._v(" "),o("p",[l._v("Chains who wish to support ICS-27 may elect to act as a host chain, a controller chain or both. Disabling host or controller functionality may be done statically by excluding the host or controller submodule entirely from the "),o("code",[l._v("app.go")]),l._v(" file or it may be done dynamically by taking advantage of the on-chain parameters which enable or disable the host or controller submodules.")]),l._v(" "),o("p",[l._v("Interchain Account authentication modules (both custom or generic, such as the "),o("code",[l._v("x/gov")]),l._v(", "),o("code",[l._v("x/group")]),l._v(" or "),o("code",[l._v("x/auth")]),l._v(" Cosmos SDK modules) can send messages to the controller submodule's "),o("RouterLink",{attrs:{to:"/apps/interchain-accounts/messages.html"}},[o("code",[l._v("MsgServer")])]),l._v(" to register interchain accounts and send packets to the interchain account. To accomplish this, the authentication module needs to be composed with "),o("code",[l._v("baseapp")]),l._v("'s "),o("code",[l._v("MsgServiceRouter")]),l._v(".")],1),l._v(" "),o("p",[o("img",{attrs:{src:a(568),alt:"ICAv6"}})]),l._v(" "),o("h2",{attrs:{id:"example-integration"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#example-integration"}},[l._v("#")]),l._v(" Example integration")]),l._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gYXBwLmdvCgovLyBSZWdpc3RlciB0aGUgQXBwTW9kdWxlIGZvciB0aGUgSW50ZXJjaGFpbiBBY2NvdW50cyBtb2R1bGUgYW5kIHRoZSBhdXRoZW50aWNhdGlvbiBtb2R1bGUKLy8gTm90ZTogTm8gYGljYWF1dGhgIGV4aXN0cywgdGhpcyBtdXN0IGJlIHN1YnN0aXR1dGVkIHdpdGggYW4gYWN0dWFsIEludGVyY2hhaW4gQWNjb3VudHMgYXV0aGVudGljYXRpb24gbW9kdWxlCk1vZHVsZUJhc2ljcyA9IG1vZHVsZS5OZXdCYXNpY01hbmFnZXIoCiAgICAuLi4KICAgIGljYS5BcHBNb2R1bGVCYXNpY3t9LAogICAgaWNhYXV0aC5BcHBNb2R1bGVCYXNpY3t9LAogICAgLi4uCikKCi4uLiAKCi8vIEFkZCBtb2R1bGUgYWNjb3VudCBwZXJtaXNzaW9ucyBmb3IgdGhlIEludGVyY2hhaW4gQWNjb3VudHMgbW9kdWxlCi8vIE9ubHkgbmVjZXNzYXJ5IGZvciBob3N0IGNoYWluIGZ1bmN0aW9uYWxpdHkKLy8gRWFjaCBJbnRlcmNoYWluIEFjY291bnQgY3JlYXRlZCBvbiB0aGUgaG9zdCBjaGFpbiBpcyBkZXJpdmVkIGZyb20gdGhlIG1vZHVsZSBhY2NvdW50IGNyZWF0ZWQKbWFjY1Blcm1zID0gbWFwW3N0cmluZ11bXXN0cmluZ3sKICAgIC4uLgogICAgaWNhdHlwZXMuTW9kdWxlTmFtZTogICAgICAgICAgICBuaWwsCn0KCi4uLgoKLy8gQWRkIEludGVyY2hhaW4gQWNjb3VudHMgS2VlcGVycyBmb3IgZWFjaCBzdWJtb2R1bGUgdXNlZCBhbmQgdGhlIGF1dGhlbnRpY2F0aW9uIG1vZHVsZQovLyBJZiBhIHN1Ym1vZHVsZSBpcyBiZWluZyBzdGF0aWNhbGx5IGRpc2FibGVkLCB0aGUgYXNzb2NpYXRlZCBLZWVwZXIgZG9lcyBub3QgbmVlZCB0byBiZSBhZGRlZC4gCnR5cGUgQXBwIHN0cnVjdCB7CiAgICAuLi4KCiAgICBJQ0FDb250cm9sbGVyS2VlcGVyIGljYWNvbnRyb2xsZXJrZWVwZXIuS2VlcGVyCiAgICBJQ0FIb3N0S2VlcGVyICAgICAgIGljYWhvc3RrZWVwZXIuS2VlcGVyCiAgICBJQ0FBdXRoS2VlcGVyICAgICAgIGljYWF1dGhrZWVwZXIuS2VlcGVyCgogICAgLi4uCn0KCi4uLgoKLy8gQ3JlYXRlIHN0b3JlIGtleXMgZm9yIGVhY2ggc3VibW9kdWxlIEtlZXBlciBhbmQgdGhlIGF1dGhlbnRpY2F0aW9uIG1vZHVsZQprZXlzIDo9IHNkay5OZXdLVlN0b3JlS2V5cygKICAgIC4uLgogICAgaWNhY29udHJvbGxlcnR5cGVzLlN0b3JlS2V5LAogICAgaWNhaG9zdHR5cGVzLlN0b3JlS2V5LAogICAgaWNhYXV0aHR5cGVzLlN0b3JlS2V5LAogICAgLi4uCikKCi4uLiAKCi8vIENyZWF0ZSB0aGUgc2NvcGVkIGtlZXBlcnMgZm9yIGVhY2ggc3VibW9kdWxlIGtlZXBlciBhbmQgYXV0aGVudGljYXRpb24ga2VlcGVyCnNjb3BlZElDQUNvbnRyb2xsZXJLZWVwZXIgOj0gYXBwLkNhcGFiaWxpdHlLZWVwZXIuU2NvcGVUb01vZHVsZShpY2Fjb250cm9sbGVydHlwZXMuU3ViTW9kdWxlTmFtZSkKc2NvcGVkSUNBSG9zdEtlZXBlciA6PSBhcHAuQ2FwYWJpbGl0eUtlZXBlci5TY29wZVRvTW9kdWxlKGljYWhvc3R0eXBlcy5TdWJNb2R1bGVOYW1lKQpzY29wZWRJQ0FBdXRoS2VlcGVyIDo9IGFwcC5DYXBhYmlsaXR5S2VlcGVyLlNjb3BlVG9Nb2R1bGUoaWNhYXV0aHR5cGVzLk1vZHVsZU5hbWUpCgouLi4KCi8vIENyZWF0ZSB0aGUgS2VlcGVyIGZvciBlYWNoIHN1Ym1vZHVsZQphcHAuSUNBQ29udHJvbGxlcktlZXBlciA9IGljYWNvbnRyb2xsZXJrZWVwZXIuTmV3S2VlcGVyKAogICAgYXBwQ29kZWMsIGtleXNbaWNhY29udHJvbGxlcnR5cGVzLlN0b3JlS2V5XSwgYXBwLkdldFN1YnNwYWNlKGljYWNvbnRyb2xsZXJ0eXBlcy5TdWJNb2R1bGVOYW1lKSwKICAgIGFwcC5JQkNLZWVwZXIuQ2hhbm5lbEtlZXBlciwgLy8gbWF5IGJlIHJlcGxhY2VkIHdpdGggbWlkZGxld2FyZSBzdWNoIGFzIGljczI5IGZlZQogICAgYXBwLklCQ0tlZXBlci5DaGFubmVsS2VlcGVyLCAmYW1wO2FwcC5JQkNLZWVwZXIuUG9ydEtlZXBlciwKICAgIHNjb3BlZElDQUNvbnRyb2xsZXJLZWVwZXIsIGFwcC5Nc2dTZXJ2aWNlUm91dGVyKCksCikKYXBwLklDQUhvc3RLZWVwZXIgPSBpY2Fob3N0a2VlcGVyLk5ld0tlZXBlcigKICAgIGFwcENvZGVjLCBrZXlzW2ljYWhvc3R0eXBlcy5TdG9yZUtleV0sIGFwcC5HZXRTdWJzcGFjZShpY2Fob3N0dHlwZXMuU3ViTW9kdWxlTmFtZSksCiAgICBhcHAuSUJDS2VlcGVyLkNoYW5uZWxLZWVwZXIsIC8vIG1heSBiZSByZXBsYWNlZCB3aXRoIG1pZGRsZXdhcmUgc3VjaCBhcyBpY3MyOSBmZWUKICAgIGFwcC5JQkNLZWVwZXIuQ2hhbm5lbEtlZXBlciwgJmFtcDthcHAuSUJDS2VlcGVyLlBvcnRLZWVwZXIsCiAgICBhcHAuQWNjb3VudEtlZXBlciwgc2NvcGVkSUNBSG9zdEtlZXBlciwgYXBwLk1zZ1NlcnZpY2VSb3V0ZXIoKSwKKQoKLy8gQ3JlYXRlIEludGVyY2hhaW4gQWNjb3VudHMgQXBwTW9kdWxlCmljYU1vZHVsZSA6PSBpY2EuTmV3QXBwTW9kdWxlKCZhbXA7YXBwLklDQUNvbnRyb2xsZXJLZWVwZXIsICZhbXA7YXBwLklDQUhvc3RLZWVwZXIpCgovLyBDcmVhdGUgeW91ciBJbnRlcmNoYWluIEFjY291bnRzIGF1dGhlbnRpY2F0aW9uIG1vZHVsZQphcHAuSUNBQXV0aEtlZXBlciA9IGljYWF1dGhrZWVwZXIuTmV3S2VlcGVyKGFwcENvZGVjLCBrZXlzW2ljYWF1dGh0eXBlcy5TdG9yZUtleV0sIGFwcC5Nc2dTZXJ2aWNlUm91dGVyKCkpCgovLyBJQ0EgYXV0aCBBcHBNb2R1bGUKaWNhQXV0aE1vZHVsZSA6PSBpY2FhdXRoLk5ld0FwcE1vZHVsZShhcHBDb2RlYywgYXBwLklDQUF1dGhLZWVwZXIpCgovLyBDcmVhdGUgY29udHJvbGxlciBJQkMgYXBwbGljYXRpb24gc3RhY2sgYW5kIGhvc3QgSUJDIG1vZHVsZSBhcyBkZXNpcmVkCmljYUNvbnRyb2xsZXJTdGFjayA6PSBpY2Fjb250cm9sbGVyLk5ld0lCQ01pZGRsZXdhcmUobmlsLCBhcHAuSUNBQ29udHJvbGxlcktlZXBlcikKaWNhSG9zdElCQ01vZHVsZSA6PSBpY2Fob3N0Lk5ld0lCQ01vZHVsZShhcHAuSUNBSG9zdEtlZXBlcikKCi8vIFJlZ2lzdGVyIGhvc3QgYW5kIGF1dGhlbnRpY2F0aW9uIHJvdXRlcwppYmNSb3V0ZXIuCiAgICBBZGRSb3V0ZShpY2Fjb250cm9sbGVydHlwZXMuU3ViTW9kdWxlTmFtZSwgaWNhQ29udHJvbGxlclN0YWNrKS4KICAgIEFkZFJvdXRlKGljYWhvc3R0eXBlcy5TdWJNb2R1bGVOYW1lLCBpY2FIb3N0SUJDTW9kdWxlKQouLi4KCi8vIFJlZ2lzdGVyIEludGVyY2hhaW4gQWNjb3VudHMgYW5kIGF1dGhlbnRpY2F0aW9uIG1vZHVsZSBBcHBNb2R1bGUncwphcHAubW9kdWxlTWFuYWdlciA9IG1vZHVsZS5OZXdNYW5hZ2VyKAogICAgLi4uCiAgICBpY2FNb2R1bGUsCiAgICBpY2FBdXRoTW9kdWxlLAopCgouLi4KCi8vIEFkZCBJbnRlcmNoYWluIEFjY291bnRzIHRvIGJlZ2luIGJsb2NrZXIgbG9naWMKYXBwLm1vZHVsZU1hbmFnZXIuU2V0T3JkZXJCZWdpbkJsb2NrZXJzKAogICAgLi4uCiAgICBpY2F0eXBlcy5Nb2R1bGVOYW1lLAogICAgLi4uCikKCi8vIEFkZCBJbnRlcmNoYWluIEFjY291bnRzIHRvIGVuZCBibG9ja2VyIGxvZ2ljCmFwcC5tb2R1bGVNYW5hZ2VyLlNldE9yZGVyRW5kQmxvY2tlcnMoCiAgICAuLi4KICAgIGljYXR5cGVzLk1vZHVsZU5hbWUsCiAgICAuLi4KKQoKLy8gQWRkIEludGVyY2hhaW4gQWNjb3VudHMgbW9kdWxlIEluaXRHZW5lc2lzIGxvZ2ljCmFwcC5tb2R1bGVNYW5hZ2VyLlNldE9yZGVySW5pdEdlbmVzaXMoCiAgICAuLi4KICAgIGljYXR5cGVzLk1vZHVsZU5hbWUsCiAgICAuLi4KKQoKLy8gaW5pdFBhcmFtc0tlZXBlciBpbml0IHBhcmFtcyBrZWVwZXIgYW5kIGl0cyBzdWJzcGFjZXMKZnVuYyBpbml0UGFyYW1zS2VlcGVyKGFwcENvZGVjIGNvZGVjLkJpbmFyeUNvZGVjLCBsZWdhY3lBbWlubyAqY29kZWMuTGVnYWN5QW1pbm8sIGtleSwgdGtleSBzZGsuU3RvcmVLZXkpIHBhcmFtc2tlZXBlci5LZWVwZXIgewogICAgLi4uCiAgICBwYXJhbXNLZWVwZXIuU3Vic3BhY2UoaWNhaG9zdHR5cGVzLlN1Yk1vZHVsZU5hbWUpCiAgICBwYXJhbXNLZWVwZXIuU3Vic3BhY2UoaWNhY29udHJvbGxlcnR5cGVzLlN1Yk1vZHVsZU5hbWUpCiAgICAuLi4KfQo="}}),l._v(" "),o("p",[l._v("If no custom athentication module is needed and a generic Cosmos SDK authentication module can be used, then from the sample integration code above all references to "),o("code",[l._v("ICAAuthKeeper")]),l._v(" and "),o("code",[l._v("icaAuthModule")]),l._v(" can be removed. That's it, the following code would not be needed:")]),l._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gQ3JlYXRlIHlvdXIgSW50ZXJjaGFpbiBBY2NvdW50cyBhdXRoZW50aWNhdGlvbiBtb2R1bGUKYXBwLklDQUF1dGhLZWVwZXIgPSBpY2FhdXRoa2VlcGVyLk5ld0tlZXBlcihhcHBDb2RlYywga2V5c1tpY2FhdXRodHlwZXMuU3RvcmVLZXldLCBhcHAuTXNnU2VydmljZVJvdXRlcigpKQoKLy8gSUNBIGF1dGggQXBwTW9kdWxlCmljYUF1dGhNb2R1bGUgOj0gaWNhYXV0aC5OZXdBcHBNb2R1bGUoYXBwQ29kZWMsIGFwcC5JQ0FBdXRoS2VlcGVyKQo="}}),l._v(" "),o("h3",{attrs:{id:"using-submodules-exclusively"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#using-submodules-exclusively"}},[l._v("#")]),l._v(" Using submodules exclusively")]),l._v(" "),o("p",[l._v("As described above, the Interchain Accounts application module is structured to support the ability of exclusively enabling controller or host functionality.\nThis can be achieved by simply omitting either controller or host "),o("code",[l._v("Keeper")]),l._v(" from the Interchain Accounts "),o("code",[l._v("NewAppModule")]),l._v(" constructor function, and mounting only the desired submodule via the "),o("code",[l._v("IBCRouter")]),l._v(".\nAlternatively, submodules can be enabled and disabled dynamically using "),o("RouterLink",{attrs:{to:"/apps/interchain-accounts/parameters.html"}},[l._v("on-chain parameters")]),l._v(".")],1),l._v(" "),o("p",[l._v("The following snippets show basic examples of statically disabling submodules using "),o("code",[l._v("app.go")]),l._v(".")]),l._v(" "),o("h4",{attrs:{id:"disabling-controller-chain-functionality"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#disabling-controller-chain-functionality"}},[l._v("#")]),l._v(" Disabling controller chain functionality")]),l._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gQ3JlYXRlIEludGVyY2hhaW4gQWNjb3VudHMgQXBwTW9kdWxlIG9taXR0aW5nIHRoZSBjb250cm9sbGVyIGtlZXBlcgppY2FNb2R1bGUgOj0gaWNhLk5ld0FwcE1vZHVsZShuaWwsICZhbXA7YXBwLklDQUhvc3RLZWVwZXIpCgovLyBDcmVhdGUgaG9zdCBJQkMgTW9kdWxlCmljYUhvc3RJQkNNb2R1bGUgOj0gaWNhaG9zdC5OZXdJQkNNb2R1bGUoYXBwLklDQUhvc3RLZWVwZXIpCgovLyBSZWdpc3RlciBob3N0IHJvdXRlCmliY1JvdXRlci5BZGRSb3V0ZShpY2Fob3N0dHlwZXMuU3ViTW9kdWxlTmFtZSwgaWNhSG9zdElCQ01vZHVsZSkK"}}),l._v(" "),o("h4",{attrs:{id:"disabling-host-chain-functionality"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#disabling-host-chain-functionality"}},[l._v("#")]),l._v(" Disabling host chain functionality")]),l._v(" "),o("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gQ3JlYXRlIEludGVyY2hhaW4gQWNjb3VudHMgQXBwTW9kdWxlIG9taXR0aW5nIHRoZSBob3N0IGtlZXBlcgppY2FNb2R1bGUgOj0gaWNhLk5ld0FwcE1vZHVsZSgmYW1wO2FwcC5JQ0FDb250cm9sbGVyS2VlcGVyLCBuaWwpCgoKLy8gT3B0aW9uYWxseSBpbnN0YW50aWF0ZSB5b3VyIGN1c3RvbSBhdXRoZW50aWNhdGlvbiBtb2R1bGUgaWYgbmVlZGVkLCBvciBub3Qgb3RoZXJ3aXNlCi4uLgoKLy8gQ3JlYXRlIGNvbnRyb2xsZXIgSUJDIGFwcGxpY2F0aW9uIHN0YWNrCmljYUNvbnRyb2xsZXJTdGFjayA6PSBpY2Fjb250cm9sbGVyLk5ld0lCQ01pZGRsZXdhcmUobmlsLCBhcHAuSUNBQ29udHJvbGxlcktlZXBlcikKCi8vIFJlZ2lzdGVyIGNvbnRyb2xsZXIgcm91dGUKaWJjUm91dGVyLkFkZFJvdXRlKGljYWNvbnRyb2xsZXJ0eXBlcy5TdWJNb2R1bGVOYW1lLCBpY2FDb250cm9sbGVyU3RhY2spCg=="}})],1)}),[],!1,null,null,null);c.default=t.exports}}]);