(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{631:function(c,e,l){"use strict";l.r(e);var a=l(1),t=Object(a.a)({},(function(){var c=this,e=c.$createElement,l=c._self._c||e;return l("ContentSlotsDistributor",{attrs:{"slot-key":c.$parent.slotKey}},[l("h1",{attrs:{id:"keeper-api"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#keeper-api"}},[c._v("#")]),c._v(" Keeper API")]),c._v(" "),l("h2",{attrs:{id:"deprecation-notice"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#deprecation-notice"}},[c._v("#")]),c._v(" Deprecation Notice")]),c._v(" "),l("p",[l("strong",[c._v("This document is deprecated and will be removed in future releases")]),c._v(".")]),c._v(" "),l("p",[c._v("The controller submodule keeper exposes two legacy functions that allow respectively for custom authentication modules to register interchain accounts and send packets to the interchain account.")]),c._v(" "),l("h2",{attrs:{id:"registerinterchainaccount"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#registerinterchainaccount"}},[c._v("#")]),c._v(" "),l("code",[c._v("RegisterInterchainAccount")])]),c._v(" "),l("p",[c._v("The authentication module can begin registering interchain accounts by calling "),l("code",[c._v("RegisterInterchainAccount")]),c._v(":")]),c._v(" "),l("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"aWYgZXJyIDo9IGtlZXBlci5pY2FDb250cm9sbGVyS2VlcGVyLlJlZ2lzdGVySW50ZXJjaGFpbkFjY291bnQoY3R4LCBjb25uZWN0aW9uSUQsIG93bmVyLlN0cmluZygpLCB2ZXJzaW9uKTsgZXJyICE9IG5pbCB7CiAgICByZXR1cm4gZXJyCn0KCnJldHVybiBuaWwK"}}),c._v(" "),l("p",[c._v("The "),l("code",[c._v("version")]),c._v(" argument is used to support ICS-29 fee middleware for relayer incentivization of ICS-27 packets. Consumers of the "),l("code",[c._v("RegisterInterchainAccount")]),c._v(" are expected to build the appropriate JSON encoded version string themselves and pass it accordingly. If an empty string is passed in the "),l("code",[c._v("version")]),c._v(" argument, then the version will be initialized to a default value in the "),l("code",[c._v("OnChanOpenInit")]),c._v(" callback of the controller's handler, so that channel handshake can proceed.")]),c._v(" "),l("p",[c._v("The following code snippet illustrates how to construct an appropriate interchain accounts "),l("code",[c._v("Metadata")]),c._v(" and encode it as a JSON bytestring:")]),c._v(" "),l("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"aWNhTWV0YWRhdGEgOj0gaWNhdHlwZXMuTWV0YWRhdGF7CiAgICBWZXJzaW9uOiAgICAgICAgICAgICAgICBpY2F0eXBlcy5WZXJzaW9uLAogICAgQ29udHJvbGxlckNvbm5lY3Rpb25JZDogY29udHJvbGxlckNvbm5lY3Rpb25JRCwKICAgIEhvc3RDb25uZWN0aW9uSWQ6ICAgICAgIGhvc3RDb25uZWN0aW9uSUQsCiAgICBFbmNvZGluZzogICAgICAgICAgICAgICBpY2F0eXBlcy5FbmNvZGluZ1Byb3RvYnVmLAogICAgVHhUeXBlOiAgICAgICAgICAgICAgICAgaWNhdHlwZXMuVHhUeXBlU0RLTXVsdGlNc2csCn0KCmFwcFZlcnNpb24sIGVyciA6PSBpY2F0eXBlcy5Nb2R1bGVDZGMuTWFyc2hhbEpTT04oJmFtcDtpY2FNZXRhZGF0YSkKaWYgZXJyICE9IG5pbCB7CiAgICByZXR1cm4gZXJyCn0KCmlmIGVyciA6PSBrZWVwZXIuaWNhQ29udHJvbGxlcktlZXBlci5SZWdpc3RlckludGVyY2hhaW5BY2NvdW50KGN0eCwgY29udHJvbGxlckNvbm5lY3Rpb25JRCwgb3duZXIuU3RyaW5nKCksIHN0cmluZyhhcHBWZXJzaW9uKSk7IGVyciAhPSBuaWwgewogICAgcmV0dXJuIGVycgp9Cg=="}}),c._v(" "),l("p",[c._v("Similarly, if the application stack is configured to route through ICS-29 fee middleware and a fee enabled channel is desired, construct the appropriate ICS-29 "),l("code",[c._v("Metadata")]),c._v(" type:")]),c._v(" "),l("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"aWNhTWV0YWRhdGEgOj0gaWNhdHlwZXMuTWV0YWRhdGF7CiAgICBWZXJzaW9uOiAgICAgICAgICAgICAgICBpY2F0eXBlcy5WZXJzaW9uLAogICAgQ29udHJvbGxlckNvbm5lY3Rpb25JZDogY29udHJvbGxlckNvbm5lY3Rpb25JRCwKICAgIEhvc3RDb25uZWN0aW9uSWQ6ICAgICAgIGhvc3RDb25uZWN0aW9uSUQsCiAgICBFbmNvZGluZzogICAgICAgICAgICAgICBpY2F0eXBlcy5FbmNvZGluZ1Byb3RvYnVmLAogICAgVHhUeXBlOiAgICAgICAgICAgICAgICAgaWNhdHlwZXMuVHhUeXBlU0RLTXVsdGlNc2csCn0KCmFwcFZlcnNpb24sIGVyciA6PSBpY2F0eXBlcy5Nb2R1bGVDZGMuTWFyc2hhbEpTT04oJmFtcDtpY2FNZXRhZGF0YSkKaWYgZXJyICE9IG5pbCB7CiAgICByZXR1cm4gZXJyCn0KCmZlZU1ldGFkYXRhIDo9IGZlZXR5cGVzLk1ldGFkYXRhewogICAgQXBwVmVyc2lvbjogc3RyaW5nKGFwcFZlcnNpb24pLAogICAgRmVlVmVyc2lvbjogZmVldHlwZXMuVmVyc2lvbiwKfQoKZmVlRW5hYmxlZFZlcnNpb24sIGVyciA6PSBmZWV0eXBlcy5Nb2R1bGVDZGMuTWFyc2hhbEpTT04oJmFtcDtmZWVNZXRhZGF0YSkKaWYgZXJyICE9IG5pbCB7CiAgICByZXR1cm4gZXJyCn0KCmlmIGVyciA6PSBrZWVwZXIuaWNhQ29udHJvbGxlcktlZXBlci5SZWdpc3RlckludGVyY2hhaW5BY2NvdW50KGN0eCwgY29udHJvbGxlckNvbm5lY3Rpb25JRCwgb3duZXIuU3RyaW5nKCksIHN0cmluZyhmZWVFbmFibGVkVmVyc2lvbikpOyBlcnIgIT0gbmlsIHsKICAgIHJldHVybiBlcnIKfQo="}}),c._v(" "),l("h2",{attrs:{id:"sendtx"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#sendtx"}},[c._v("#")]),c._v(" "),l("code",[c._v("SendTx")])]),c._v(" "),l("p",[c._v("The authentication module can attempt to send a packet by calling "),l("code",[c._v("SendTx")]),c._v(":")]),c._v(" "),l("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"Ly8gQXV0aGVudGljYXRlIG93bmVyCi8vIHBlcmZvcm0gY3VzdG9tIGxvZ2ljCiAgICAKLy8gQ29uc3RydWN0IGNvbnRyb2xsZXIgcG9ydElEIGJhc2VkIG9uIGludGVyY2hhaW4gYWNjb3VudCBvd25lciBhZGRyZXNzCnBvcnRJRCwgZXJyIDo9IGljYXR5cGVzLk5ld0NvbnRyb2xsZXJQb3J0SUQob3duZXIuU3RyaW5nKCkpCmlmIGVyciAhPSBuaWwgewogICAgcmV0dXJuIGVycgp9CiAgICAKLy8gT2J0YWluIGRhdGEgdG8gYmUgc2VudCB0byB0aGUgaG9zdCBjaGFpbi4gCi8vIEluIHRoaXMgZXhhbXBsZSwgdGhlIG93bmVyIG9mIHRoZSBpbnRlcmNoYWluIGFjY291bnQgd291bGQgbGlrZSB0byBzZW5kIGEgYmFuayBNc2dTZW5kIHRvIHRoZSBob3N0IGNoYWluLiAKLy8gVGhlIGFwcHJvcHJpYXRlIHNlcmlhbGl6YXRpb24gZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZC4gVGhlIGhvc3QgY2hhaW4gbXVzdCBiZSBhYmxlIHRvIGRlc2VyaWFsaXplIHRoZSB0cmFuc2FjdGlvbi4gCi8vIElmIHRoZSBob3N0IGNoYWluIGlzIHVzaW5nIHRoZSBpYmMtZ28gaG9zdCBtb2R1bGUsIGBTZXJpYWxpemVDb3Ntb3NUeGAgc2hvdWxkIGJlIHVzZWQuIAptc2cgOj0gJmFtcDtiYW5rdHlwZXMuTXNnU2VuZHtGcm9tQWRkcmVzczogZnJvbUFkZHIsIFRvQWRkcmVzczogdG9BZGRyLCBBbW91bnQ6IGFtdH0KZGF0YSwgZXJyIDo9IGljYXR5cGVzLlNlcmlhbGl6ZUNvc21vc1R4KGtlZXBlci5jZGMsIFtdcHJvdG8uTWVzc2FnZXttc2d9KQppZiBlcnIgIT0gbmlsIHsKICAgIHJldHVybiBlcnIKfQoKLy8gQ29uc3RydWN0IHBhY2tldCBkYXRhCnBhY2tldERhdGEgOj0gaWNhdHlwZXMuSW50ZXJjaGFpbkFjY291bnRQYWNrZXREYXRhewogICAgVHlwZTogaWNhdHlwZXMuRVhFQ1VURV9UWCwKICAgIERhdGE6IGRhdGEsCn0KCi8vIE9idGFpbiB0aW1lb3V0IHRpbWVzdGFtcAovLyBBbiBhcHByb3ByaWF0ZSB0aW1lb3V0IHRpbWVzdGFtcCBtdXN0IGJlIGRldGVybWluZWQgYmFzZWQgb24gdGhlIHVzYWdlIG9mIHRoZSBpbnRlcmNoYWluIGFjY291bnQuCi8vIElmIHRoZSBwYWNrZXQgdGltZXMgb3V0LCB0aGUgY2hhbm5lbCB3aWxsIGJlIGNsb3NlZCByZXF1aXJpbmcgYSBuZXcgY2hhbm5lbCB0byBiZSBjcmVhdGVkLgp0aW1lb3V0VGltZXN0YW1wIDo9IG9idGFpblRpbWVvdXRUaW1lc3RhbXAoKQoKLy8gU2VuZCB0aGUgaW50ZXJjaGFpbiBhY2NvdW50cyBwYWNrZXQsIHJldHVybmluZyB0aGUgcGFja2V0IHNlcXVlbmNlCi8vIEEgbmlsIGNoYW5uZWwgY2FwYWJpbGl0eSBjYW4gYmUgcGFzc2VkLCBzaW5jZSB0aGUgY29udHJvbGxlciBzdWJtb2R1bGUgKGFuZCBub3QgdGhlIGF1dGhlbnRpY2F0aW9uIG1vZHVsZSkgCi8vIGNsYWltcyB0aGUgY2hhbm5lbCBjYXBhYmlsaXR5IHNpbmNlIGliYy1nbyB2Ni4Kc2VxLCBlcnIgPSBrZWVwZXIuaWNhQ29udHJvbGxlcktlZXBlci5TZW5kVHgoY3R4LCBuaWwsIHBvcnRJRCwgcGFja2V0RGF0YSwgdGltZW91dFRpbWVzdGFtcCkK"}}),c._v(" "),l("p",[c._v("The data within an "),l("code",[c._v("InterchainAccountPacketData")]),c._v(" must be serialized using a format supported by the host chain.\nIf the host chain is using the ibc-go host chain submodule, "),l("code",[c._v("SerializeCosmosTx")]),c._v(" should be used. If the "),l("code",[c._v("InterchainAccountPacketData.Data")]),c._v(" is serialized using a format not supported by the host chain, the packet will not be successfully received.")])],1)}),[],!1,null,null,null);e.default=t.exports}}]);