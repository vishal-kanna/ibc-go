(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{634:function(e,t,a){"use strict";a.r(t);var i=a(1),n=Object(i.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"transferauthorization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transferauthorization"}},[e._v("#")]),e._v(" "),a("code",[e._v("TransferAuthorization")])]),e._v(" "),a("p",[a("code",[e._v("TransferAuthorization")]),e._v(" implements the "),a("code",[e._v("Authorization")]),e._v(" interface for "),a("code",[e._v("ibc.applications.transfer.v1.MsgTransfer")]),e._v(". It allows a granter to grant a grantee the privilege to submit "),a("code",[e._v("MsgTransfer")]),e._v(" on its behalf. Please see the "),a("a",{attrs:{href:"https://docs.cosmos.network/v0.47/modules/authz",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cosmos SDK docs"),a("OutboundLink")],1),e._v(" for more details on granting privileges via the "),a("code",[e._v("x/authz")]),e._v(" module.")]),e._v(" "),a("p",[e._v("More specifically, the granter allows the grantee to transfer funds that belong to the granter over a specified channel.")]),e._v(" "),a("p",[e._v("For the specified channel, the granter must be able to specify a spend limit of a specific denomination they wish to allow the grantee to be able to transfer.")]),e._v(" "),a("p",[e._v("The granter may be able to specify the list of addresses that they allow to receive funds. If empty, then all addresses are allowed.")]),e._v(" "),a("p",[e._v("It takes:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("a "),a("code",[e._v("SourcePort")]),e._v(" and a "),a("code",[e._v("SourceChannel")]),e._v(" which together comprise the unique transfer channel identifier over which authorized funds can be transferred.")])]),e._v(" "),a("li",[a("p",[e._v("a "),a("code",[e._v("SpendLimit")]),e._v(" that specifies the maximum amount of tokens the grantee can transfer. The "),a("code",[e._v("SpendLimit")]),e._v(" is updated as the tokens are transfered, unless the sentinel value of the maximum value for a 256-bit unsigned integer (i.e. 2^256 - 1) is used for the amount, in which case the "),a("code",[e._v("SpendLimit")]),e._v(" will not be updated (please be aware that using this sentinel value will grant the grantee the privilege to transfer "),a("strong",[e._v("all")]),e._v(" the tokens of a given denomination available at the granter's account). The helper function "),a("code",[e._v("UnboundedSpendLimit")]),e._v(" in the "),a("code",[e._v("types")]),e._v(" package of the "),a("code",[e._v("transfer")]),e._v(" module provides the sentinel value that can be used. This "),a("code",[e._v("SpendLimit")]),e._v(" may also be updated to increase or decrease the limit as the granter wishes.")])]),e._v(" "),a("li",[a("p",[e._v("an "),a("code",[e._v("AllowList")]),e._v(" list that specifies the list of addresses that are allowed to receive funds. If this list is empty, then all addresses are allowed to receive funds from the "),a("code",[e._v("TransferAuthorization")]),e._v(".")])])]),e._v(" "),a("p",[e._v("Setting a "),a("code",[e._v("TransferAuthorization")]),e._v(" is expected to fail if:")]),e._v(" "),a("ul",[a("li",[e._v("the spend limit is nil")]),e._v(" "),a("li",[e._v("the denomination of the spend limit is an invalid coin type")]),e._v(" "),a("li",[e._v("the source port ID is invalid")]),e._v(" "),a("li",[e._v("the source channel ID is invalid")]),e._v(" "),a("li",[e._v("there are duplicate entries in the "),a("code",[e._v("AllowList")])])]),e._v(" "),a("p",[e._v("Below is the "),a("code",[e._v("TransferAuthorization")]),e._v(" message:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"go",base64:"ZnVuYyBOZXdUcmFuc2ZlckF1dGhvcml6YXRpb24oYWxsb2NhdGlvbnMgLi4uQWxsb2NhdGlvbikgKlRyYW5zZmVyQXV0aG9yaXphdGlvbiB7CiAgcmV0dXJuICZhbXA7VHJhbnNmZXJBdXRob3JpemF0aW9uewogICAgQWxsb2NhdGlvbnM6IGFsbG9jYXRpb25zLAogIH0KfQoKdHlwZSBBbGxvY2F0aW9uIHN0cnVjdCB7CiAgLy8gdGhlIHBvcnQgb24gd2hpY2ggdGhlIHBhY2tldCB3aWxsIGJlIHNlbnQKICBTb3VyY2VQb3J0IHN0cmluZyAKICAvLyB0aGUgY2hhbm5lbCBieSB3aGljaCB0aGUgcGFja2V0IHdpbGwgYmUgc2VudAogIFNvdXJjZUNoYW5uZWwgc3RyaW5nIAogIC8vIHNwZW5kIGxpbWl0YXRpb24gb24gdGhlIGNoYW5uZWwKICBTcGVuZExpbWl0IHNkay5Db2lucyAgCiAgLy8gYWxsb3cgbGlzdCBvZiByZWNlaXZlcnMsIGFuIGVtcHR5IGFsbG93IGxpc3QgcGVybWl0cyBhbnkgcmVjZWl2ZXIgYWRkcmVzcwogIEFsbG93TGlzdCBbXXN0cmluZyAKfQoK"}})],1)}),[],!1,null,null,null);t.default=n.exports}}]);